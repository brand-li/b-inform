function wpnotif_showMessage(e){jQuery(".wpnotif_popmessage").length?jQuery(".wpnotif_popmessage").find(".wpnotif_lase_message").text(e):(jQuery("body").append("<div class='wpnotif_popmessage'><div class='wpnotif_firele'><img src='"+wpnotifobj.face+"'></div><div class='wpnotif_lasele'><div class='wpnotif_lase_snap'>"+wpnotifobj.ohsnap+"</div><div class='wpnotif_lase_message'>"+e+"</div></div><img class='wpnotif_popdismiss' src='"+wpnotifobj.cross+"'></div>"),jQuery(".wpnotif_popmessage").slideDown("fast"))}function wpnotif_hideMessage(){jQuery(".wpnotif_popmessage").remove()}jQuery(function(){"use strict";function e(e){e.select2({minimumResultsForSearch:8,dropdownCssClass:"wpnotif-select-dropdown",theme:"default wpnotif-select"})}e(jQuery(".wpnotif_admim_conf").find("select")),jQuery(".wpnotif_multiselect_dynamic_enable").select2({tags:!0,tokenSeparators:[","," "]});var t=jQuery(".wpnotif_gateways"),i=jQuery("#gateway_template").html(),n=jQuery(".wpnotif_gateway_settings"),a=jQuery(".gateway_table"),o=!1,r=[];t.length&&(r=jQuery.parseJSON(t.val()));var s=!1;jQuery(document).on("change",".wpnotif_gateway_box input,.wpnotif-gs-trigger select",function(){var e=jQuery(this).closest(".wpnotif_gateway_box"),i=e.find(".wpnotif_gateway"),n=i.val(),c=e.find(".gateway_countries select");if(n&&null!=n){var p,f,l={ccodes:0,countries:""};if(e.attr("all"))l.countries="all",l.all=1,l.ccodes=0,s=!0;else if(l.all=0,null!=c.val()){var _=c.val();l.ccodes=_.join();var y=[];c.find("option:selected").each(function(){y.push(jQuery(this).attr("data-country"))});var h=y.join();l.countries=h,e.find(".wpnotif_ctr_list").text(h)}jQuery(this).hasClass("wpnotif_gateway")&&e.attr("wpnotif-gateway")?d(p=e.attr("wpnotif-gateway")):p=n,l.gateway=n,1==e.find(".input-switch input").prop("checked")?l.enable="on":l.enable="off",e.attr("enable",l.enable),1001==n&&(l["data-label"]="Whatsapp",l.class="hideGatewayList"),function(e,t){jQuery(".wpnotif-gs-gatway-select-td").find("[data-value="+t+"]").addClass("disabled").attr("disabled","disabled"),e.find("[data-value="+t+"]").removeClass("disabled").removeAttr("disabled")}(i,n),r.hasOwnProperty("gc_"+p)?(r["gc_"+p]=l,f=(f=JSON.stringify(r)).replace('"gc_'+p+'":{','"gc_'+n+'":{'),r=JSON.parse(f)):(r["gc_"+n]=l,f=JSON.stringify(r)),t.val(f);var g=jQuery(this);setTimeout(function(){g.hasClass("wpnotif_gateway")&&function(e){var t=e.find("option:selected"),i=t.attr("han"),n=t.text(),o=e.val(),s=e.closest(".wpnotif_gateway_box"),c=s.find(".selected_gateway_conf");c.find(".gateway_conf").appendTo(a),a.find("."+i+"cred").show().appendTo(c),s.attr("all")?s.attr("data-label")&&s.find(".wpnotif_gateway_target_head").text(s.attr("data-label")):s.find(".wpnotif_gateway_target_head").text(n);"on"!=s.attr("enable")?s.find(".input-switch input").prop("checked",!1).trigger("change"):s.find(".input-switch input").prop("checked",!0).trigger("change");s.attr("wpnotif-gateway",o);var p=Object.keys(r).length;1==p&&(r.hasOwnProperty("gc_1")||r.hasOwnProperty("gc_13"))||2==p&&r.hasOwnProperty("gc_1")&&r.hasOwnProperty("gc_13")?u.hide():u.show()}(g),s&&(jQuery(".gateway_based_notifications .wpnotif_gate_allcountries").first().attr("wpnotif-gateway",n).find("input").first().trigger("change"),s=!1)}),o&&w()}});var c,u=jQuery(".disotp");function p(t,a){var o=jQuery(i).clone();n.append(o);var s=o.find(".wpnotif_gateway"),c=o.find(".gateway_countries select");if(null!=a){if(1==a.all)o.attr("all","1").addClass("wpnotif_gate_allcountries active"),l(o,!1,!1),a["data-label"]&&o.attr("data-label",a["data-label"]),a.class&&o.addClass(a.class);else{o.removeAttr("all");var u=a.countries;o.find(".wpnotif_ctr_list").text(u),o.find(".wpnotif_gateway_configuation_expand_box").hide();var p=u.split(",");jQuery.each(p,function(e,t){c.find('[data-country="'+t+'"]').attr("selected","selected")})}s.val(t)}else{f(),l(o,!0,!0),jQuery.each(r,function(e,t){var i=t.gateway;s.find("[data-value="+i+"]").addClass("disabled").attr("disabled","disabled")});var d=s.find("option:not([disabled]):first").val();s.val(d)}var _=o.find(".input-switch"),w=Math.random();_.find("input").attr("id",w),_.find("label").attr("for",w),null==a||"on"!=a.enable?_.find("input").prop("checked",!1).trigger("change"):_.find("input").prop("checked",!0).trigger("change"),s.data("select2-id")||(e(s),e(c)),s.trigger("change"),c.trigger("change")}function d(e){jQuery(".wpnotif-gs-gatway-select-td").find("[data-value="+e+"]").removeClass("disabled").removeAttr("disabled")}function f(){jQuery(".active").removeClass("active").find(".wpnotif_gateway_configuation_expand_box").slideUp("fast")}function l(e,t,i){c=e,e.addClass("active").find(".wpnotif_gateway_configuation_expand_box").stop().slideDown("fast",function(){i&&(t?setTimeout(function(){_()},190):_())})}function _(){jQuery("html, body").stop().animate({scrollTop:c.offset().top-100},300)}function w(){jQuery(".wpnotif_admin_submit").removeAttr("disabled")}jQuery.each(r,function(e,t){o=!1,p(t.gateway,t),o=!0}),jQuery(".apisettingstab .wpnotif_gateway_settings").find(".hideGatewayList").after('<div class="country_specific"><div class="wpnotif_admin_head"><span>Country Specific</span></div></div>'),jQuery(".add_gateway_group_button").on("click",function(){o=!0,p(-1,null)}),jQuery(document).on("click",".wpnotif_gateway_box_close,.wpnotif_gateway_settings .inactive,.wpnotif_gateway_settings .wpnotif_gateay_conf_expand",function(e){if(!jQuery(e.target).hasClass("wpnotif_gateay_conf_delete")){var t=jQuery(this).closest(".wpnotif_gateway_box");t.hasClass("active")?f():(f(),t.addClass("active"),l(t,!1,!0))}}),jQuery(".whatsapp_whatsapp_gateway").on("change",function(){var e=jQuery(this).val(),t=jQuery(this).attr("name");jQuery("."+t+"_active").hide(),jQuery(".whatsapp_gateway_"+e).addClass(t+"_active").show()}),setTimeout(function(){jQuery(".wpnotif-hide-elem").hide(),jQuery(".whatsapp_whatsapp_gateway").trigger("change")}),jQuery(document).on("click",".wpnotif_gateay_conf_delete",function(e){var i=jQuery(this).closest(".wpnotif_gateway_box"),n=i.attr("wpnotif-gateway");i.attr("all")?jQuery(this).remove():(d(n),delete r["gc_"+n],t.val(JSON.stringify(r)),i.find(".selected_gateway_conf").find(".gateway_conf").appendTo(a),i.slideUp("fast").remove(),w())});var y=jQuery(".wpnotif-reg-fields").find("tbody");if(y.length){var h=jQuery("#wpnotif_sortorder"),g=h.val().split(",");y.find("tr").sort(function(e,t){var i=jQuery.inArray(e.id,g),n=jQuery.inArray(t.id,g);return i<n?-1:i>n?1:0}).appendTo(y),y.sortable({update:function(e,t){var i=jQuery(this).sortable("toArray").toString();h.val(i),w()}})}var v=jQuery("#wpnotif_purchasecode"),j=jQuery(".wpnotif-tab-wrapper");if(j.length){var Q=jQuery(".wpnotif_admin_submit"),m=(Q.outerWidth(!0),jQuery(".wpnotif_admin_left_side"));jQuery(window).load(function(){A()}),jQuery(window).resize(function(){A(),C(),I()});var b=822,x=j.offset().top,k=jQuery("#wpadminbar").outerHeight(!0);jQuery(window).scroll(function(){C()}),jQuery(window).trigger("scroll")}function C(){var e=jQuery(window).scrollTop();x-e<=k&&jQuery(window).width()>=b?j.addClass("wpnotif-tab-wrapper-fixed").css({top:k}):j.removeClass("wpnotif-tab-wrapper-fixed")}function A(){var e=m.width();j.outerWidth(e),Q.css({left:m.offset().left+e-168})}var O,T,q,M=jQuery(".wpnotif-tab-ul");jQuery(document).on("click",".wpnotif_popmessage",function(){jQuery(this).closest(".wpnotif_popmessage").slideUp("fast",function(){jQuery(this).remove()})}),M.append("<li id='wpnotif-tab-magic-line'></li>");var S=jQuery("#wpnotif-tab-magic-line");function I(){var e=jQuery(".wpnotif-nav-tab-active");if(e.length){var t=e.parent().position();S.width(e.parent().width()).css({left:t.left,top:t.top+21}).data("origLeft",S.position().left).data("origWidth",S.width()),e.hasClass("wpnotif_ngmc")&&!e.hasClass("customfieldsNavTab")&&S.hide().css({top:45})}}I(),jQuery(".wpnotif_admim_conf .updatetabview").on("click",function(){var e=jQuery(this).attr("tab"),t=jQuery(this).attr("acr"),i=jQuery(this).attr("refresh");if(void 0!==i&&!1!==i)return location.reload(),!0;if(void 0!==t&&!1!==t){var n=v.attr("invalid");if(36!=v.val().length||1==n)return wpnotif_showMessage(wpnotifobj.plsActMessage),jQuery("#wpnotif_activatetab").length&&(jQuery("#wpnotif_activatetab").click(),v.focus()),!1}jQuery(this).hasClass("wpnotif_ngmc")?S.hide():(S.show(),O=jQuery(this).parent(),T=O.position().left,q=O.width(),S.stop().animate({left:T,width:q,top:O.position().top+21},"fast")),jQuery(".digcurrentactive").removeClass("digcurrentactive").hide();var a=jQuery("."+e);return a.fadeIn(150).addClass("digcurrentactive"),jQuery(".wpnotif-tab-wrapper-fixed").length&&jQuery("html, body").animate({scrollTop:a.offset().top-90},220),jQuery(".wpnotif-nav-tab-active").removeClass("wpnotif-nav-tab-active"),jQuery(this).addClass("wpnotif-nav-tab-active"),function(e,t){var i=window.location.href;if((n=new RegExp("[?|&]"+e+"=[0-9a-zA-Z_+-|.,;]*")).test(i)){var n=new RegExp("[?&]"+e+"=([^&#]*)"),a=n.exec(i)[0].charAt(0);i=i.replace(n,a+e+"="+t)}else{var o=e+"="+t;if(i.indexOf("?")||(i+="?"),i.indexOf("#")>-1){var r=i.split("#");i=r[0]+"&"+o+(r[1]?"#"+r[1]:"")}else i+="&"+o}window.history.pushState(null,document.title,i)}("tab",e.slice(0,-3)),!1});var N=!1;jQuery(".wpnotif_admim_conf textarea,.wpnotif_admim_conf input").on("keyup",function(){jQuery(this).attr("readonly")||jQuery(this).attr("wpnotif-save")||(jQuery(this).closest(".digcon").length||D())}),jQuery(".wpnotif_admim_conf input,.wpnotif_admim_conf select,.wpnotif_activation_form input").on("change",function(){jQuery(this).attr("readonly")||jQuery(this).attr("wpnotif-save")||D()});var U=jQuery("#wpnotif_purchasecode");function D(){N||(N=!0,w())}function w(){jQuery(".wpnotif_admin_submit").removeAttr("disabled")}U.on("change",function(){jQuery(this).attr("readonly")||jQuery(".customfieldsNavTab").attr("refresh",1)}),U.on("keyup",function(){jQuery(this).attr("readonly")||(36==jQuery(this).val().length||0==jQuery(this).val().length?(jQuery(".wpnotif_prc_ver").hide(),jQuery(".wpnotif_prc_nover").hide()):F(-1))}),jQuery(".wpnotif_copy_shortcode").on("click",function(){!function(e){if(e.attr("nocop"))return;e.select(),document.execCommand("copy");var t=e.val();e.val(wpnotifobj.Copiedtoclipboard),setTimeout(function(){e.val(t)},800)}(jQuery(this).parent().find("input"))}),v.mask("AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA");var J=jQuery("#wpnotif_tapp"),R=jQuery(".wpnotif_load_overlay_gs"),W=R.length,E=0;jQuery(".wpnotif_request_server_addition").on("click",function(){var e=jQuery(this).attr("href");window.open(e,"_target")});var P,z=0;jQuery(".wpnotif_domain_type").find("button").on("click",function(){var e=jQuery(this).attr("val");jQuery("input[name='wpnotif_license_type']").val(e),1!=z&&(z=0,jQuery("#wpnotif_purchasecode").val("").removeAttr("readonly")),jQuery(".wpnotif_prchcde").fadeIn("fast"),jQuery(".wpnotif_domain_type").hide(),jQuery(".wpnotif_btn_unregister").hide(),1!=e?(jQuery(".request_live_server_addition").show(),jQuery(".request_testing_server_addition").hide()):(jQuery(".request_live_server_addition").hide(),jQuery(".request_testing_server_addition").show())}),jQuery(".wpnotif_btn_unregister").on("click",function(){R.find(".circle-loader").removeClass("load-complete"),R.find(".checkmark").hide(),R.fadeIn();var e=v.val();jQuery.post("https://bridge.unitedover.com/updates/verify.php",{code:e,slug:"wpnotif",request_site:encodeURIComponent(jQuery("input[name='wpnotif_domain']").val()),license_type:jQuery("input[name='wpnotif_license_type']").val(),unregister:1,version:jQuery("input[name='wpnotif_version']").val(),settings:1},function(e,t){return 1==e?(jQuery(".wpnotif_domain_type").fadeIn("fast"),jQuery(".wpnotif_prchcde").fadeOut(),jQuery(".wpnotif_prc_ver").fadeOut(),jQuery(".wpnotif_prc_nover").hide(),jQuery("#wpnotif_purchasecode").val("").removeAttr("readonly").trigger("change")):wpnotif_showMessage(e),jQuery(".wpnotif_activation_form").submit(),!1})}),jQuery(".wpnotif_btn_unregister").on("click",function(){R.find(".circle-loader").removeClass("load-complete"),R.find(".checkmark").hide(),R.fadeIn();var e=v.val();jQuery.post("https://bridge.unitedover.com/updates/verify.php",{code:e,slug:"wpnotif",request_site:encodeURIComponent(jQuery("input[name='wpnotif_domain']").val()),license_type:jQuery("input[name='wpnotif_license_type']").val(),addons:jQuery("input[name='wpnotif_addons_list']").val(),unregister:1,version:jQuery("input[name='wpnotif_version']").val(),settings:1},function(e,t){return jQuery(".wpnotif_btn_unregister").hide(),jQuery("#wpnotif_purchasecode").val("").removeAttr("readonly").trigger("change"),jQuery(".wpnotif_activation_form").submit(),!1})}),jQuery(".wpnotif_admin_submit").on("click",function(){jQuery("#wpnotif_setting_update").submit()});z=0;function F(e){jQuery("#wpnotif_purchasecode").removeAttr("readonly"),jQuery(".wpnotif_prc_ver").hide(),jQuery(".wpnotif_prc_nover").show(),e>0&&R.hide()}jQuery("#wpnotif_setting_update").on("submit",function(){P=jQuery(this),wpnotif_hideMessage();var e=P.serialize();1!=E&&(R.find(".circle-loader").removeClass("load-complete"),R.find(".checkmark").hide(),R.fadeIn());var t=v.val();return 0==t.length?(jQuery(".wpnotif_prc_ver").hide(),jQuery(".wpnotif_prc_nover").hide(),H(e,-1),!1):36!=t.length?(wpnotif_showMessage(wpnotifobj.invalidpurchasecode),jQuery(".wpnotif_prc_ver").hide(),jQuery(".wpnotif_prc_nover").show(),H(e,-1),!1):!G&&(G=!0,jQuery.post("https://bridge.unitedover.com/updates/verify.php",{json:1,code:t,slug:"wpnotif",request_site:encodeURIComponent(jQuery("input[name='wpnotif_domain']").val()),settings:1,license_type:jQuery("input[name='wpnotif_license_type']").val(),version:jQuery("input[name='wpnotif_version']").val()},function(t,i){G=!1;var n=t.code,a=t.type;z=1,jQuery(".wpnotif_domain_type").find("button[val="+a+"]").trigger("click"),e=P.serialize(),1!=n?(F(W),v.attr("invalid",1)):(jQuery(".wpnotif_prc_ver").show(),jQuery(".wpnotif_prc_nover").hide(),v.attr("invalid",0)),0==n?(wpnotif_showMessage(wpnotifobj.invalidpurchasecode),R.attr("ajxsu")||H(e,-1)):1==n?(jQuery(".wpnotif_btn_unregister").show(),R.attr("ajxsu")?jQuery(".wpnotif_activation_form").unbind("submit").submit():(H(e,1),jQuery(".wpnotif_pc_notice").hide())):(wpnotif_showMessage(-1==n?"This purchase code is already being used on another site.":t.msg),R.attr("ajxsu")||H(e,-1))}),!1)});var L,G=!1;function H(e,t){G||(G=!0,jQuery.ajax({type:"POST",url:wpnotifobj.ajax_url,data:e+"&action=wpnotif_save_settings&pca="+t,success:function(e){G=!1,R.find(".circle-loader").addClass("load-complete"),R.find(".checkmark").show(),setTimeout(function(){R.fadeOut(),N=!1,jQuery(".wpnotif_admin_submit").attr("disabled","disabled"),1==E&&X()},1500)},error:function(){G=!1,F(),wpnotif_showMessage(wpnotifobj.Error)}}))}var B=jQuery(".wpnotif_load_overlay");jQuery(document).on("click",".wpnotif_call_test_api_btn",function(){var e=(L=jQuery(this).closest(".wpnotif_api_test")).find(".digcon"),t=e.find(".mobile").val(),i=e.find(".wpnotif_countrycode").val();if(0==t.length||!jQuery.isNumeric(t)||0==i.length||!jQuery.isNumeric(i))return wpnotif_showMessage(wpnotifobj.validnumber),!1;E=1,B.show(),jQuery(".wpnotif_admin_submit").attr("disabled")?X():jQuery(".wpnotif_activation_form").trigger("submit")});var Z,K=!1,V=jQuery(".wpnotif_sms_processing");function X(){if(1==E){B.show();var e,t=L.find(".digcon"),i=t.find(".mobile").val(),n=t.find(".wpnotif_countrycode").val(),a=L.closest(".wpnotif_gateway_box");e=a.length?a.find(".wpnotif_gateway").val():jQuery(".wpnotif_gateway").val(),E=0,jQuery.ajax({type:"post",async:!0,url:wpnotifobj.ajax_url,data:{action:"wpnotif_test_api",digt_mobile:i,gateway:e,digt_countrycode:n},success:function(e){Y(e)},error:function(e){Y(e)}})}}function Y(e){E=0,L.find(".wpnotif_call_test_response").show(),L.find(".wpnotif_call_test_response_msg").text(e),B.hide()}jQuery(".send_quick_sms").on("click",function(e){if(e.preventDefault(),!K){clearTimeout(Z);var t=jQuery(this);t.addClass("processing").find("span").text(t.attr("data-processing")).parent().find("div").addClass("wpnotif_sms_processing"),K=!0,V.show();var i=jQuery(this).closest(".quick_sms_grid"),n=i.find(".mobile").val();E=0;var a=jQuery(".quick_sms_response_box"),o=i.find("#quick_message").val(),r=0,s=jQuery(".wpnotif_order_id").val();jQuery(this).hasClass("trigger_order_status")&&(r=1);var c=jQuery(".wpnotif_nonce").val();return a.hide(),jQuery.ajax({type:"post",async:!0,url:wpnotifobj.ajax_url,data:{action:"wpnotif_send_quick_sms",mobile:n,quick_message:o,trigger_order_status:r,order_id:s,wpnotif_nonce:c},success:function(e){if(i.find("#quick_message").val(""),t.removeClass("processing").find("span").text(t.attr("data-send")).parent().find("div").removeClass("wpnotif_sms_processing"),K=!1,V.hide(),0==e.success)a.addClass("msg_send_failed").removeClass("msg_send_success");else if(a.addClass("msg_send_success").removeClass("msg_send_failed"),null!=e.data.data&&wpnotifobj.isWhatsappWebEnabled)try{var n=e.data.data;jQuery.each(n,function(e,t){se(e,t)}),Object.keys(n).length>1&&ce(0)}catch(e){}a.find(".msg").text(e.data.msg).parent().stop().fadeIn("fast"),Z=setTimeout(function(){a.fadeOut("fast")},3e3)},error:function(e){t.removeClass("processing").find("span").text(t.attr("data-send")).parent().find("div").removeClass("wpnotif_sms_processing"),K=!1,V.hide(),a.addClass("msg_send_failed").removeClass("msg_send_success").find(".msg").text(wpnotifobj.Error).parent().stop().fadeIn("fast"),Z=setTimeout(function(){a.fadeOut("fast")},3e3)}}),!1}}),J.on("change",function(){var e=jQuery(this).val(),t=J.find("option:selected").attr("han");t=t.replace(".","_"),jQuery(".wpnotif_call_test_response").hide(),1==e||13==e?(jQuery(".wpnotif_api_test").hide(),jQuery(".disotp").hide(),jQuery(".wpnotif_current_gateway").hide()):(jQuery(".wpnotif_api_test").show(),jQuery(".disotp").show(),jQuery(".wpnotif_current_gateway").show().find("span").text(J.find("option:selected").text())),J.find("option").each(function(e,i){var n=jQuery(this).attr("han");n!=t&&jQuery("."+n+"cred").each(function(){jQuery(this).hide().find("input").removeAttr("required")})}),jQuery("."+t+"cred").each(function(){var e=jQuery(this).show().find("input"),t=e.attr("wpnotif-optional");t&&1==t||e.attr("required","required")})}),jQuery(document).on("change",".input-switch input",function(){1==jQuery(this).prop("checked")?jQuery(this).parent().addClass("checked"):jQuery(this).parent().removeClass("checked")});var $=!1;jQuery(document).on("change",".notification_toggle",function(){var e=jQuery(this).closest("table").next();1==jQuery(this).prop("checked")?$?e.show():e.stop().slideDown("fast",function(){jQuery(this).show()}):$?e.hide():e.stop().slideUp("fast")});var ee,te=jQuery("#country_based"),ie=jQuery(".gateway_based_notifications"),ne=jQuery(".simple_user_notifications"),ae=jQuery(".user_notifications");function oe(){if(1==te.prop("checked")){var e=n.clone();e.find(".country_specific").remove(),e.find(".wpnotif_gateway_configuation_expand_box_contents").empty().each(function(){var e=ae.clone();e.find("tr").each(function(){var e="a_"+Math.random(),t=jQuery(this);t.find("input, textarea").attr("id",e),t.find("label").attr("for",e)}),jQuery(this).append('<div class="wpnotif_gateway_sep_line"></div>').append(e)}),ie.empty().append(e),ie.stop().slideDown("fast"),ne.hide()}else ie.hide(),ne.show()}te.on("change",function(){oe()}),setTimeout(function(){oe()});var re=jQuery("#wpnotif_gateway_customer_notifications");function se(e,t){t=t.replace(/[\u200B-\u200D\uFEFF]/g,""),t=encodeURIComponent(t),window.open("https://wa.me/"+e+"?text="+t)}function ce(e){var t=jQuery(".wp-notif-total_messages");jQuery.ajax({type:"post",async:!0,url:wpnotifobj.ajax_url,data:{action:"wpnotif_update_message",id:e,wpnotif_nonce:jQuery(".wpnotif_del_nonce").val()},success:function(e){B.hide(),e=jQuery.parseHTML(e),jQuery(".wpnotif-box").replaceWith(e);var i=jQuery(".wpnotif-box").find(".wpnotif-pending-whatsapp-messages").length;jQuery(".wpnotif-box").show(),t.text(i)},error:function(){B.hide()}})}setTimeout(function(){jQuery(document).on("change",".gateway_based_notifications input,.gateway_based_notifications textarea",function(e){var t={};ie.find(".wpnotif_gateway_box").each(function(){var e=jQuery(this).attr("wpnotif-gateway"),i={};jQuery(this).find(".form-switch").each(function(){var e=jQuery(this).find("input"),t=e.attr("name"),n="";1==e.prop("checked")&&(n="on");var a=jQuery(this).next().find("textarea").val();i[t]={enable:n,msg:a}}),t["wpnotif_"+e]=i}),re.val(JSON.stringify(t)),D()})},10),setTimeout(function(){try{ee=(ee=re.val()).replace(/\\/g,""),ee=jQuery.parseJSON(ee),jQuery.each(ee,function(e,t){var i=e.replace(/\D/g,""),n=ie.find('div[wpnotif-gateway="'+i+'"]');n.length&&jQuery.each(t,function(e,t){var i=n.find('input[name="'+e+'"]');"on"==t.enable?(i.prop("checked",!0).parent().addClass("checked"),n.find('textarea[name="'+e+'_msg"]').val(t.msg).closest(".notification_message").show()):(i.prop("checked",!1).parent().removeClass("checked"),n.find('textarea[name="'+e+'_msg"]').val(t.msg).closest(".notification_message").hide())})}),re.val(JSON.stringify(ee))}catch(e){}},10),N=!0,$=!0,J.trigger("change"),jQuery(".input-switch input").trigger("change"),N=!1,jQuery("#wpnotif_loading_container").fadeOut("fast"),setTimeout(function(){$=!1}),jQuery("#wp-admin-bar-wpnotif-pending-messages").on("click",function(){return jQuery(".wpnotif-box").fadeToggle("fast"),!1}),jQuery(document).on("click",".wpnotif-whatsapp-send",function(e){e.preventDefault();var t=jQuery(this).closest(".wpnotif-list"),i=t.attr("data-mobile"),n=t.find(".wpnotif-message").text(),a=t.attr("data-id");return se(i,n),t.fadeOut("fast",function(){jQuery(this).remove()}),ce(a),!1});var ue=jQuery("#user_notify_user"),pe=jQuery("#user_whatsapp_message"),de=jQuery("#user_combine_both");function fe(){1==ue.prop("checked")&&1==pe.prop("checked")?de.closest("tr").show():(de.prop("checked",!1).trigger("change"),de.closest("tr").hide())}jQuery("#user_notify_user,#user_whatsapp_message").on("change",function(){fe()}),de.on("change",function(){1==de.prop("checked")?(1==ue.prop("checked")&&ue.closest("table").next().slideUp(),1==pe.prop("checked")&&pe.closest("table").next().slideUp()):(1==ue.prop("checked")&&ue.closest("table").next().slideDown(),1==pe.prop("checked")&&pe.closest("table").next().slideDown())}),de.trigger("change"),fe(),jQuery(document).on("click",".clear_message",function(e){var t=jQuery(this).closest(".wpnotif-list");ce(t.attr("data-id")),t.slideUp("fast")}),jQuery(document).on("click",".whatsapp_clear_all",function(e){B.show(),ce(-1)})});